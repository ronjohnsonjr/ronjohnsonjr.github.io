---
import { siteConfig } from "../config";

const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
const hasCertifications = siteConfig.certifications && siteConfig.certifications.length > 0;
---

<header
  id="header"
  class="sticky top-0 left-0 right-0 z-50 transition-all duration-300"
  style="background-color: transparent;"
>
  <nav class="flex items-center justify-between mx-1 sm:mx-2 md:mx-3 lg:mx-4">
    <!-- Logo/Brand Section -->
    <div>
      <a href="/" class="flex items-center gap-2 px-3 py-2 border rounded-3xl transition-all hover:opacity-80"
        style="border-color: #4B4E53; background-color: rgba(10, 10, 10, 0.6);"
      >
        <div class="w-3 h-3 rounded-3xl sm:w-4 sm:h-4" style={`background-color: ${siteConfig.accentColor};`}></div>
        <span class="text-md sm:text-lg" style="color: #EDF2F4;">ronjohnsonjr</span>
      </a>
    </div>

    <!-- Center Navigation Links (Desktop) -->
    <div class="hidden lg:flex lg:items-center">
      <div class="flex items-center border rounded-3xl p-3" style="border-color: #4B4E53; background-color: rgba(10, 10, 10, 0.6);">
        <ul class="flex gap-5 text-base items-center" style="color: #EDF2F4;">
          <li>
            <a 
              href="/" 
              class="flex items-center gap-1 transition-all hover:opacity-80"
              style={`color: #EDF2F4;`}
              onmouseover="this.style.color='#D71515';"
              onmouseout="this.style.color='#EDF2F4';"
            >
              <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.71 2.29a1 1 0 0 0-1.42 0l-9 9a1 1 0 0 0 0 1.42A1 1 0 0 0 3 13h1v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7h1a1 1 0 0 0 1-1 1 1 0 0 0-.29-.71zM6 20v-9.59l6-6 6 6V20z"></path>
              </svg>
              Home
            </a>
          </li>
          {
            hasProjects && (
              <li>
                <a 
                  href="#projects" 
                  class="flex items-center gap-1 transition-all hover:opacity-80"
                  style={`color: #EDF2F4;`}
                  onmouseover="this.style.color='#D71515';"
                  onmouseout="this.style.color='#EDF2F4';"
                >
                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2zm-5-2v2H9V4h6zM8 8h12v3H4V8h4zM4 19v-6h6v2h4v-2h6l.001 6H4z"></path>
                  </svg>
                  Projects
                </a>
              </li>
            )
          }
          <li>
            <a 
              href="#about" 
              class="flex items-center gap-1 transition-all hover:opacity-80"
              style={`color: #EDF2F4;`}
              onmouseover="this.style.color='#D71515';"
              onmouseout="this.style.color='#EDF2F4';"
            >
              <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.715 12c1.151 0 2-.849 2-2s-.849-2-2-2-2 .849-2 2 .848 2 2 2z"></path>
                <path d="M20 4H4c-1.103 0-2 .841-2 1.875v12.25C2 19.159 2.897 20 4 20h16c1.103 0 2-.841 2-1.875V5.875C22 4.841 21.103 4 20 4zm0 14-16-.011V6l16 .011V18z"></path>
                <path d="M14 9h4v2h-4zm1 4h3v2h-3zm-1.57 2.536c0-1.374-1.676-2.786-3.715-2.786S6 14.162 6 15.536V16h7.43v-.464z"></path>
              </svg>
              About
            </a>
          </li>
          {
            hasExperience && (
              <li>
                <a 
                  href="#experience" 
                  class="flex items-center gap-1 transition-all hover:opacity-80"
                  style={`color: #EDF2F4;`}
                  onmouseover="this.style.color='#D71515';"
                  onmouseout="this.style.color='#EDF2F4';"
                >
                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2zm-5-2v2H9V4h6zM8 8h12v3H4V8h4zM4 19v-6h6v2h4v-2h6l.001 6H4z"></path>
                  </svg>
                  Experience
                </a>
              </li>
            )
          }
        </ul>
      </div>
    </div>

    <!-- Mobile Hamburger Menu -->
    <div class="lg:hidden" style="color: #EDF2F4;">
      <button
        id="mobile-menu-button"
        class="p-2 rounded-lg transition-all"
        style="color: #EDF2F4;"
        aria-label="Toggle menu"
      >
        <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <!-- Contact/Right Section (Desktop) -->
    <div class="hidden lg:flex lg:items-center gap-5 text-base border rounded-3xl p-3" style="border-color: #4B4E53; background-color: rgba(10, 10, 10, 0.6); color: #EDF2F4;">
      <a 
        href={`mailto:${siteConfig.social?.email || ''}`}
        class="flex items-center gap-1 transition-all hover:opacity-80"
        style={`color: #EDF2F4;`}
        onmouseover="this.style.color='#D71515';"
        onmouseout="this.style.color='#EDF2F4';"
      >
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 4H6c-1.103 0-2 .897-2 2v5h2V8l6.4 4.8a1.001 1.001 0 0 0 1.2 0L20 8v9h-8v2h8c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 6.75L6.666 6h12.668L13 10.75z"></path>
          <path d="M2 12h7v2H2zm2 3h6v2H4zm3 3h4v2H7z"></path>
        </svg>
        Contact
      </a>
    </div>
  </nav>

  <!-- Mobile Menu Dropdown -->
  <div 
    id="mobile-menu"
    class="hidden lg:hidden border-t"
    style="border-color: #4B4E53; background-color: rgba(10, 10, 10, 0.95); backdrop-filter: blur(10px);"
  >
    <nav class="px-4 py-4">
      <ul class="space-y-4" style="color: #EDF2F4;">
        <li>
          <a 
            href="/" 
            class="flex items-center gap-2 transition-all hover:opacity-80"
            style={`color: #EDF2F4;`}
            onmouseover={`this.style.color='${siteConfig.accentColor}';`}
            onmouseout="this.style.color='#EDF2F4';"
          >
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em">
              <path d="M12.71 2.29a1 1 0 0 0-1.42 0l-9 9a1 1 0 0 0 0 1.42A1 1 0 0 0 3 13h1v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7h1a1 1 0 0 0 1-1 1 1 0 0 0-.29-.71zM6 20v-9.59l6-6 6 6V20z"></path>
            </svg>
            Home
          </a>
        </li>
        {
          hasProjects && (
            <li>
              <a 
                href="#projects" 
                class="flex items-center gap-2 transition-all hover:opacity-80"
                style={`color: #EDF2F4;`}
                onmouseover={`this.style.color='${siteConfig.accentColor}';`}
                onmouseout="this.style.color='#EDF2F4';"
              >
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em">
                  <path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2zm-5-2v2H9V4h6zM8 8h12v3H4V8h4zM4 19v-6h6v2h4v-2h6l.001 6H4z"></path>
                </svg>
                Projects
              </a>
            </li>
          )
        }
        <li>
          <a 
            href="#about" 
            class="flex items-center gap-2 transition-all hover:opacity-80"
            style={`color: #EDF2F4;`}
            onmouseover={`this.style.color='${siteConfig.accentColor}';`}
            onmouseout="this.style.color='#EDF2F4';"
          >
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em">
              <path d="M9.715 12c1.151 0 2-.849 2-2s-.849-2-2-2-2 .849-2 2 .848 2 2 2z"></path>
              <path d="M20 4H4c-1.103 0-2 .841-2 1.875v12.25C2 19.159 2.897 20 4 20h16c1.103 0 2-.841 2-1.875V5.875C22 4.841 21.103 4 20 4zm0 14-16-.011V6l16 .011V18z"></path>
              <path d="M14 9h4v2h-4zm1 4h3v2h-3zm-1.57 2.536c0-1.374-1.676-2.786-3.715-2.786S6 14.162 6 15.536V16h7.43v-.464z"></path>
            </svg>
            About
          </a>
        </li>
        {
          hasExperience && (
            <li>
              <a 
                href="#experience" 
                class="flex items-center gap-2 transition-all hover:opacity-80"
                style={`color: #EDF2F4;`}
                onmouseover={`this.style.color='${siteConfig.accentColor}';`}
                onmouseout="this.style.color='#EDF2F4';"
              >
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em">
                  <path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2zm-5-2v2H9V4h6zM8 8h12v3H4V8h4zM4 19v-6h6v2h4v-2h6l.001 6H4z"></path>
                </svg>
                Experience
              </a>
            </li>
          )
        }
        {
          hasCertifications && (
            <li>
              <a 
                href="#certifications" 
                class="flex items-center gap-2 transition-all hover:opacity-80"
                style={`color: #EDF2F4;`}
                onmouseover={`this.style.color='${siteConfig.accentColor}';`}
                onmouseout="this.style.color='#EDF2F4';"
              >
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em">
                  <path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2zm-5-2v2H9V4h6zM8 8h12v3H4V8h4zM4 19v-6h6v2h4v-2h6l.001 6H4z"></path>
                </svg>
                Certifications
              </a>
            </li>
          )
        }
        <li>
          <a 
            href={`mailto:${siteConfig.social?.email || ''}`}
            class="flex items-center gap-2 transition-all hover:opacity-80"
            style={`color: #EDF2F4;`}
            onmouseover={`this.style.color='${siteConfig.accentColor}';`}
            onmouseout="this.style.color='#EDF2F4';"
          >
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em">
              <path d="M20 4H6c-1.103 0-2 .897-2 2v5h2V8l6.4 4.8a1.001 1.001 0 0 0 1.2 0L20 8v9h-8v2h8c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 6.75L6.666 6h12.668L13 10.75z"></path>
              <path d="M2 12h7v2H2zm2 3h6v2H4zm3 3h4v2H7z"></path>
            </svg>
            Contact
          </a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<script>
  // Mobile menu toggle
  const menuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuIcon = document.getElementById("menu-icon");
  const closeIcon = document.getElementById("close-icon");

  if (menuButton && mobileMenu) {
    menuButton.addEventListener("click", () => {
      const isHidden = mobileMenu.classList.contains("hidden");
      
      if (isHidden) {
        mobileMenu.classList.remove("hidden");
        menuIcon?.classList.add("hidden");
        closeIcon?.classList.remove("hidden");
      } else {
        mobileMenu.classList.add("hidden");
        menuIcon?.classList.remove("hidden");
        closeIcon?.classList.add("hidden");
      }
    });
  }

  // Close mobile menu when clicking a link
  const mobileLinks = mobileMenu?.querySelectorAll("a");
  mobileLinks?.forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu?.classList.add("hidden");
      menuIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
    });
  });
</script>

<style>
  html {
    scroll-behavior: smooth;
  }
</style>
